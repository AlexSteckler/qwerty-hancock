<!doctype html>
<html>
    <head>
        <script src="jquery-1.7.2.min.js"></script>
        <script src="raphael-min.js"></script>
    </head>
    <body>
        <h1>Qwerty Hancock</h1>
        <p>An all-purpose musical keyboard</p>
        <div id="keyboard"></div>
        <script>
            $(function () {
                var createKeyboard= function (id) {
                    var numberOfOctaves = 3,
                        totalWhiteKeys = numberOfOctaves * 7; 
                        keyboardWidth = 600,
                        keyboardHeight = 150,
                        whiteKeyWidth = keyboardWidth / totalWhiteKeys,
                        blackKeyWidth = whiteKeyWidth / 2,
                        paper = new Raphael(id, keyboardWidth, keyboardHeight),
                        notes = ['A', 'B', 'C', 'D', 'E', 'F', 'G'], 
                        notesWithSharps = ['A', 'C', 'D', 'F', 'G'], 
                        noteCounter = 0;

                   for (var i = 0; i < totalWhiteKeys; i++) {
                        if ((i % notes.length) === 0) {
                            noteCounter = 0;
                        }

                        paper.rect(whiteKeyWidth * i, 0, whiteKeyWidth, keyboardHeight).attr('title', notesWithSharps[noteCounter]);

                        for (var j = 0; j < notesWithSharps.length; j++) {
                            if (notes[noteCounter] === notesWithSharps[j]) { 
                                // Don't draw last black note
                                if ((whiteKeyWidth * (i + 1)) < keyboardWidth) {
                                    paper.rect((whiteKeyWidth * i) + (blackKeyWidth * 1.5) , 0, blackKeyWidth, (keyboardHeight / 3)* 2).attr('fill', 'black');
                                }
                            }
                        }

                        noteCounter++;
                   }
                };

                var keyboard = createKeyboard('keyboard');
            });
        </script>
    </body>
</html>
